services:
  - type: web
    name: student-management-backend
    env: java
    rootDir: backend
    buildCommand: ./mvnw clean install -DskipTests
    startCommand: java -jar target/student-management-system-1.0.0.jar
    envVars:
      - key: SPRING_PROFILES_ACTIVE
        value: prod
      - key: JAVA_OPTS
        value: -Xmx512m
      - key: SPRING_DATASOURCE_URL
        sync: false
      - key: SPRING_DATASource_USERNAME
        sync: false
      - key: SPRING_DATASOURCE_PASSWORD
        sync: false

databases:
  - name: studentdb
    plan: free
    databaseName: studentdb
    user: studentuser
